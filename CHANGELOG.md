# 2020 re-design: phase 1

Principles:
* use convention over configuration
* automatically generate variables as possible
* improve readability of templates
* reduce data fields
* reduce entrances for maintainers
* respond to requirements from ocf staff

## User interface

### Global navigation

| header, sidebar, footer | old | new |
| -------- | -------- | -------- |
| toggle to En site | Click on `En` | Click on `En` |
| toggle to Tw site | Click on logo | Click on `Tw` |

| link target | old | new |
| -------- | -------- | -------- |
| internal links | specified, default `_blank` | current tab |
| external links | specified, default `_blank` | a new tab |

### Project navigation

| from project page | old | new |
| -------- | -------- | -------- |
| to event page | links in event footers | event titles |
| to child project page | n/a | child project titles in the sidebar |
| to parent project page | n/a | page header |
| to freestyle page | n/a | setup links manually |

| from event page | old | new |
| -------- | -------- | -------- |
| to project page | page header | page header |

| from freestyle page | old | new |
| -------- | -------- | -------- |
| to project page | n/a | page header |


## YAML front matter (in html files)

| layout | old | new |
| -------- | -------- | -------- |
| project page | `project` | `p` |
| event page | `event` | `e` |
| freestyle page | n/a | `f` |

| project | old | new |
| -------- | -------- | -------- |
| yml file mapping | `project_id` | automatically detected from page url |
| status (ongoing / closed) | `year`, `current` | retrieved from project data / auto-generated by the system |
| visual elements | `cover_image`, `sidebar_image`, `color` | use project data only |
| special content | `show_budget` | n/a |
| action buttons | `actions` | use project data instead |


| event | old | new |
| -------- | -------- | -------- |
| yml file mapping | `year`, `project_id`, `event_id` | automatically detected from page url |
| visual elements | `color`, `veil_opacity` | `project_header_image_opacity`, `project_header_veil_opacity` |
| content | `agenda` | n/a |
| meta data | `summary`, `speakers`, `orgs` | use event data |

## Data (in yml files)

| location | old | new |
| -------- | -------- | -------- |
| project | _data/projects/`YYYY`/`id`.yml | _data/p/`id`/project.yml , _data/p/`id`/`id`/project.yml |
| sample project | _data/projects/_project_id.yml | _data/p/project_id/project.yml |
| event | _data/events/`YYYY`.yml , _data/events/`id`.yml | _data/p/`id`/events.yml , _data/p/`id`/`id`/events.yml |
| sample event | _data/events/_project_id.yml , _data/events/_yyyy.yml | _data/p/project_id/events.yml |


| project | old | new |
| -------- | -------- | -------- |
| provide en version | `name` | all fields |
| basic info | `name`, `description`, `abbr`, `tagline` | same |
| visaul settings | `cover` | `og_image`, `header_image`, `avatar_image`, `theme_color` |
| start / end format | m/dd | yyyy/mm/dd |
| categories | `type_id`, `topic_id`, `field_id`, `tag` | `type_ids`, `topic_ids`, `field_ids`, `tags` |
| links | `link` | `links`, `actions` |
| supported org roles | `advisor`, `organizer`, `co-organizer`, `implementer`, `sponsor` | same |
| supported individual roles | `coordinator`, `consultant`, `volunteer`, `board`, `staff`, `donor`  | same plus `case-handler`, `co-worker`, `contributor`, `host`, `speaker`, `participant` |
| others | `meta`, `month` | `metas`, `reports` |

| event | old | new |
| -------- | -------- | -------- |
| provide en version | n/a | all fields |
| basic info | `title`, `description`, `subtitle` | `name`, `description`, `subtitles` |
| visaul settings | `cover`, `banner`, `avatar` | `cover_image`, `banner_image`, `theme_color` |
| start / end format | m/dd | yyyy/mm/dd |
| categories | `label` | `labels` |
| links | `link` | `links` |
| supported org roles | `advisor`, `organizer`, `co-organizer`, `implementer`, `sponsor` | same |
| supported individual roles | `host`, `speaker`, `contributor`  | same plus project roles |
| others | `meta`, `month` | `metas`, `reports` |

